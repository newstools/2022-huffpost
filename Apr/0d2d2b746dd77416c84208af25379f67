LVIV, Ukraine (AP) — Russian forces launched missile attacks on the western city of Lviv and pounded other targets across Ukraine on Monday in what appeared to be an intensified bid to wear down the country’s defenses ahead of an all-out assault on the east. At least seven people were reported killed in Lviv, where plumes of thick black smoke rose over a city that has seen only sporadic attacks during almost two months of war and has become a haven for large numbers of civilians fleeing intense fighting elsewhere. Ukrainian Prime Minister Denys Shmyhal, meanwhile, vowed to “fight absolutely to the end” in strategically vital Mariupol, where the last known pocket of resistance in the seven-week siege consisted of Ukrainian fighters holed up in a sprawling steel plant. The holdouts ignored a surrender-or-die ultimatum from the Russians  on Sunday. The governor of the Lviv region, Maksym Kozytskyy, said the Russian missile strikes hit three military infrastructure facilities and an auto mechanic shop. He said the wounded included a child, and emergency teams battled fires caused by the attack. Lviv is the biggest city and a major transportation hub in western Ukraine. It sits roughly 80 kilometers (50 miles) from Poland, a NATO member. The city has been a major conduit for weapons and other supplies coming from NATO countries and for foreign fighters joining the Ukrainian cause. Russia has strongly complained about the increasing flow of Western weapons to Ukraine, and last week its Foreign Ministry issued a formal note of protest to the U.S. and its allies. On Russian state media, some anchors have charged that the supplies amount to direct Western engagement in the fight against Russia. Lviv has also been seen as a relatively safe place for the elderly, mothers and children trying to escape the war. But a hotel sheltering Ukrainians who had fled fighting in other parts of the country was among the buildings badly damaged, Mayor Andriy Sadovyi said. “The nightmare of war has caught up with us even in Lviv,” said Lyudmila Turchak, who fled with two children from the eastern city of Kharkiv. “There is no longer anywhere in Ukraine where we can feel safe.” A powerful explosion also rocked Vasylkiv, a town south of the capital of Kyiv that is home to a military airbase, according to residents. It was not immediately clear what was hit. Military analysts say Russia is increasing its strikes on weapons factories, railways and other infrastructure targets across Ukraine to wear down the country’s ability to resist a major ground offensive in the Donbas, Ukraine’s mostly Russian-speaking eastern industrial heartland. The Russian military said its missiles struck more than 20 military targets in eastern and central Ukraine in the past day — including ammunition depots, command headquarters and groups of troops and vehicles. It claimed artillery hit an additional 315 Ukrainian targets, and warplanes conducted 108 strikes on Ukrainian troops and military equipment. The claims could not be independently verified. Gen. Richard Dannatt, a former head of the British Army, told Sky News the strikes were part of a “softening-up” campaign by Russia ahead of a planned ground offensive in the Donbas. Ukraine’s government halted civilian evacuations for a second day on Monday, saying Russian forces were shelling and blocking the humanitarian corridors. Deputy Prime Minister Iryna Vereshchuk said Ukraine had been negotiating passage from cities and towns in eastern and southeastern Ukraine, including Mariupol and other areas in the Donbas. The government of the Luhansk region in the Donbas said four civilians trying to flee were shot and killed by Russian forces. Vereshchuk said Russia could be prosecuted for war crimes over its refusal to allow civilians to leave Mariupol. “Your refusal to open these humanitarian corridors will in the future be a reason to prosecute all involved for war crimes,” she wrote on social media. The Russians, in turn, accused “neo-Nazi nationalists” in Mariupol of hampering the evacuation. Russia is bent on capturing the Donbas, where Moscow-backed separatists already control some territory, after its attempt to take the capital failed. “We are doing everything to ensure the defense” of eastern Ukraine, President Volodymyr Zelenskyy said in his nightly address to the nation on Sunday. The looming offensive in the east, if successful, would give Russian President Vladimir Putin a badly needed victory to point to amid the war’s mounting casualties and the economic hardship caused by Western sanctions. The capture of Mariupol is seen as a key step in preparations for any eastern assault since it would free Russian troops up for that new campaign. The fall of the city on the Sea of Azov would also hand Russia its biggest victory of the war, giving it full control of a land corridor to the Crimean Peninsula, which it seized in 2014, and depriving Ukraine of a major port and its prized industrial assets. Ukrainian Deputy Defense Minister Hanna Malyar has described Mariupol as a “shield defending Ukraine.” The city has been reduced to rubble in the siege, but a few thousand fighters, by Russia’s estimate, are holding on to the giant, 11-square-kilometer (4-square-mile) Azovstal steel mill. The relentless bombardment of Mariupol — including at a maternity hospital  and a theater where civilians were sheltering  — has combined with street fighting to kill at least 21,000 people, by Ukrainian estimates. An estimated 100,000 people remain in the city out of a prewar population of 450,000, trapped without food, water, heat or electricity. A pro-Russian Ukrainian politician who was arrested last week on a treason charge appeared in a video offering himself in exchange for the evacuation of Mariupol’s trapped defenders and civilians. Ukraine’s state security services posted the video of Viktor Medvedchuk, the former leader of a pro-Russian opposition party with personal ties to Putin. It was not clear whether Medvedchuk was speaking under duress. Kharkiv, Ukraine’s second-largest city, was also hit by shelling Monday that killed at least three people, according to Associated Press journalists on the scene. One of the dead was a woman who appeared to be going out to collect water in the rain. She was found lying with a water canister and an umbrella by her side. Putin repeated his insistence that the Western sanctions “blitz” against Russia had failed. He said the West has not managed to “provoke panic in the markets, the collapse of the banking system and shortages in stores,” though he acknowledged a sharp increase in consumer prices in Russia, saying they rose 17.5%. ___ Associated Press journalists Nico Maounis and Philip Crowther in Lviv, Ukraine, and Adam Schreck in Vasylkiv, Ukraine, contributed to this report, as did other AP staff members around the world.