WASHINGTON (AP) — Congressional leaders reached a bipartisan deal early Wednesday providing $13.6 billion to help Ukraine and European allies plus billions more to battle the pandemic as part of an overdue $1.5 trillion measure financing federal agencies for the rest of this year. Though a tiny portion of the massive bill, the money responding to the Russian blitzkrieg that’s devastated parts of Ukraine and prompted Europe’s worst refugee crisis since World War II ensured robust bipartisan support for the legislation. President Joe Biden had requested $10 billion for military, humanitarian and economic aid last week, and Democratic and Republican backing was so staunch that the figure grew to $12 billion Monday and $13.6 billion just a day later. “We’re going to support them against tyranny, oppression, violent acts of subjugation,” Biden said at the White House. Party leaders hoped to whip the 2,741-page measure through the House on Wednesday and the Senate by week’s end, though that chamber’s exact timing was unclear. Lawmakers were spurred by the urgency of helping Ukraine before Russia’s military might makes it too late. They also faced a Friday deadline to approve the government-wide spending measure or face a weekend election-year federal shutdown. As a backstop against delays, the House planned to pass a bill Wednesday keeping agencies afloat through March 15. Over $4 billion of the Ukraine aid was to help the country and Eastern European nations cope with the 2 million refugees who’ve already fled the fighting. Another $6.7 billion was for the deployment of U.S. troops and equipment to the region and to transfer American military items to Ukraine and U.S. allies, and there was economic aid as well. “War in Europe has focused the energies of Congress to getting something done and getting it done fast,” said Senate Majority Leader Chuck Schumer, D-N.Y. The bipartisan rallying behind the Ukraine aid package was just one manifestation of Congress’ eagerness to help the beleaguered country, though not all of it has been harmonious. Republicans accused Biden of moving too slowly to help Ukraine and NATO nations assisting it, and to impose sanctions against Russia and its president, Vladimir Putin. They’ve also used the crisis to amplify their yearslong drive to ease drilling restrictions on federal lands and to oppose Democrats’ attempts to curb carbon-heavy fuels that worsen climate change. A bipartisan push to ban Russian oil imports had grown perhaps unstoppable before Biden announced Tuesday that he would do that on his own. Democrats said time was needed to bring along European allies that rely heavily on Russian energy sources. They also noted that plenty of drilling is available on nonfederal lands. The huge overall bill was stocked with victories for both parties. For Democrats, it provides $730 billion for domestic programs, $46 billion, or 6.7%, more than last year, the biggest boost in four years. Republicans won $782 billion for defense, a $42 billion increase that’s 5.6% over last year’s levels. In contrast, Biden’s 2022 budget last spring proposed a 16% increase for domestic programs and less than 2% more for defense — numbers that were doomed from the start thanks to Democrats’ slender congressional majorities. Democrats won $15.6 billion for a fresh round of spending for vaccines, testing and treatments for COVID-19, including $5 billion for fighting the pandemic around the world. That was below Biden’s $22.5 billion request. Republicans said they’d forced Democrats to pay for the entire amount by pulling back money from COVID-19 relief bills enacted previously. Much of the money was to go to help states and businesses cope with the toll of the pandemic. Schumer said there would be money for Biden’s “Cancer Moonshot” to find a cure for the disease and for increasing Pell grants for lower-income college students. Still unresolved was whether to include programs protecting women against domestic violence and strengthening the country’s cybersecurity, Schumer said. The overall measure was on track to increase overall defense and domestic spending over last year’s levels, though exact figures were not yet available. No. 2 Senate GOP leader John Thune of South Dakota said Republicans were happy with the boost for the military. Senate Minority Leader Mitch McConnell, R-Ky., said the measure would provide loan guarantees to Poland to help it replace aircraft it is sending Ukraine. “It’s been like pulling teeth” to get Democrats to agree to some of the defense spending, he said. But he added, “It’s an important step. It needs to be passed. It needs to be passed quickly.” Sen. Ben Cardin, D-Md., a sponsor of a bipartisan effort to win billions to help the pandemic-battered restaurant industry, said that initiative had not survived due to GOP opposition. House leaders were hoping that chamber could approve the legislation on Wednesday, sending it to the Senate. Debate there could last days. Since the government’s fiscal year began last Oct. 1, agencies have been running on spending levels approved during Donald Trump’s final weeks in the White House. Congress has approved three short-term bills since then keeping agency doors open. Last week, eight conservative Republican senators wrote Schumer saying lawmakers “should not vote on it” until they’ve had time to read the bill and for a full study of its costs by the nonpartisan Congressional Budget Office. “There are some senators who won’t agree on anything, anytime, anywhere,” said No. 2 House Democratic leader Steny Hoyer, D-Md., “which is frustrating.” ___ Associated Press writer Farnoush Amiri contributed to this report.