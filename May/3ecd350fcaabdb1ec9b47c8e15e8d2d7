Federal agents stormed Uvalde’s Robb Elementary School 30 minutes after they were told by local police to wait in order to stop a gunman who killed 19 children and two teachers, federal law enforcement officials told NBC News Friday. As the agents, protected by a ballistic shield, burst into the classroom, the gunman emerged, firing, from a closet, and was shot dead, officials told The Washington Post. They rescued child survivors, who were huddled together, a U.S. Customs and Border Protection official told the Post. Director of the Texas Department of Public Safety Steven McCraw said Friday that Peter Arredondo, chief of police for the Uvalde Consolidated Independent School District, had stopped at least 19 officers from breaking into the school as the gunman opened fire for at least an hour. Arredondo believed that the shooter had barricaded himself, and that the children were not under an active threat, McCraw said at a news conference. “From the benefit of hindsight where I’m sitting now, of course, it was not the right decision. It was a wrong decision. Period. There was no excuse for that,” McCraw said. According to federal officials, agents from BORTAC, the Customs and Border Protection tactical unit, and ICE’s Homeland Security Investigations arrived at the school between noon and 12:15 p.m. on the day of the shooting. Local law enforcement asked them to wait, and then instructed some of the agents to help pull children out of the windows, according to NBC. But the BORTAC team, armed with tactical gear, instead decided to storm the building about 30 minutes later, reported NBC. McCraw also said Friday that two students inside the school dialed 911 several times during the shootings pleading for help. Both survived, he said. Rep. Joaquin Castro (D-Texas) on Thursday asked Federal Bureau of Investigation Director Chris Wray to examine local law enforcement’s response to the shooting at Robb Elementary School. At that point, state officials’ accounts of what occurred conflicted with what parents and witnesses said happened. The two versions are now converging: police waited for almost an hour to take action to save children.